CREATE TABLE `doenca` (
  `ID_DOENCA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DOENCA` varchar(500) NOT NULL,
  `DESCRICAO` varchar(500) NOT NULL,
  `SINTOMAS` varchar(500) NOT NULL,
  `FLG_COMUM` bit(1) NOT NULL,
  `FLG_TRATACOMVACINA` bit(1) NOT NULL,
  `FLG_TRATADOPORPESSOA` bit(1) NOT NULL,
  `FLG_PROPAGAFACIL` bit(1) NOT NULL,
  `FLG_REQUEREXAME` bit(1) NOT NULL,
  `MEDIADIASCURA` int(11) NOT NULL,
  `FLG_GRAVE` bit(1) NOT NULL,
  PRIMARY KEY (`ID_DOENCA`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `endereco` (
  `ID_ENDERECO` int(11) NOT NULL AUTO_INCREMENT,
  `ENDERECO` varchar(100) NOT NULL,
  `BAIRRO` varchar(100) NOT NULL,
  `NUMERO` int(11) NOT NULL,
  `CEP` varchar(20) NOT NULL,
  `COMPLEMENTO` varchar(100) DEFAULT NULL,
  `CIDADE` varchar(100) NOT NULL,
  `UF` varchar(2) NOT NULL,
  PRIMARY KEY (`ID_ENDERECO`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `paciente` (
  `ID_PACIENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_PACIENTE` varchar(500) NOT NULL,
  `DT_NASCIMENTO` datetime NOT NULL,
  `CPF` varchar(500) NOT NULL,
  `RG` varchar(500) NOT NULL,
  `SEXO` varchar(2) NOT NULL,
  PRIMARY KEY (`ID_PACIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `usuario` (
  `ID_USUARIO` int(11) NOT NULL AUTO_INCREMENT,
  `LOGIN` varchar(50) NOT NULL,
  `SENHA` varchar(50) NOT NULL,
  `FLG_ATIVO` bit(1) NOT NULL,
  PRIMARY KEY (`ID_USUARIO`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `tipotratamento` (
  `ID_TIPOTRATAMENTO` int(11) NOT NULL,
  `DS_TIPOTRATAMENTO` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_TIPOTRATAMENTO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `tratamento` (
  `ID_TRATAMENTO` int(11) NOT NULL AUTO_INCREMENT,
  `DS_TRATAMENTO` varchar(500) NOT NULL,
  `ID_TIPOTRATAMENTO` int(11) NOT NULL,
  PRIMARY KEY (`ID_TRATAMENTO`),
  KEY `ID_TIPOTRATAMENTO` (`ID_TIPOTRATAMENTO`),
  CONSTRAINT `tratamento_ibfk_1` FOREIGN KEY (`ID_TIPOTRATAMENTO`) REFERENCES `tipotratamento` (`ID_TIPOTRATAMENTO`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `doenca_tratamento` (
  `ID_DOENCA` int(11) NOT NULL,
  `ID_TRATAMENTO` int(11) NOT NULL,
  KEY `ID_DOENCA` (`ID_DOENCA`),
  KEY `ID_TRATAMENTO` (`ID_TRATAMENTO`),
  CONSTRAINT `doenca_tratamento_ibfk_1` FOREIGN KEY (`ID_DOENCA`) REFERENCES `doenca` (`ID_DOENCA`),
  CONSTRAINT `doenca_tratamento_ibfk_2` FOREIGN KEY (`ID_TRATAMENTO`) REFERENCES `tratamento` (`ID_TRATAMENTO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `paciente_doenca` (
  `ID_PACIENTEDOENCA` int(11) NOT NULL AUTO_INCREMENT,
  `ID_DOENCA` int(11) NOT NULL,
  `ID_PACIENTE` int(11) NOT NULL,
  `ID_ENDERECO` int(11) DEFAULT NULL,
  `DT_INICIO` datetime NOT NULL,
  `DT_TERMINO` datetime DEFAULT NULL,
  `FLG_MEDICADO` bit(1) NOT NULL,
  `FLG_FALECIDO` bit(1) DEFAULT NULL,
  `DT_OBITO` datetime DEFAULT NULL,
  PRIMARY KEY (`ID_PACIENTEDOENCA`),
  KEY `FK_PACIENTE_DOENCA_doenca` (`ID_DOENCA`),
  KEY `FK_paciente_doenca_endereco` (`ID_ENDERECO`),
  KEY `FK_paciente_doenca_paciente` (`ID_PACIENTE`),
  CONSTRAINT `FK_PACIENTE_DOENCA_doenca` FOREIGN KEY (`ID_DOENCA`) REFERENCES `doenca` (`ID_DOENCA`),
  CONSTRAINT `FK_paciente_doenca_endereco` FOREIGN KEY (`ID_ENDERECO`) REFERENCES `endereco` (`ID_ENDERECO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_paciente_doenca_paciente` FOREIGN KEY (`ID_PACIENTE`) REFERENCES `paciente` (`ID_PACIENTE`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

