DROP DATABASE IF EXISTS aps3sem;
CREATE DATABASE aps3sem;
USE aps3sem;
GO

CREATE TABLE `doenca` (
  `ID_DOENCA` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_DOENCA` varchar(500) NOT NULL,
  `DESCRICAO` varchar(500) NOT NULL,
  `SINTOMAS` varchar(500) NOT NULL,
  `FLG_COMUM` bit(1) NOT NULL,
  `FLG_TRATACOMVACINA` bit(1) NOT NULL,
  `FLG_TRATADOPORPESSOA` bit(1) NOT NULL,
  `FLG_PROPAGAFACIL` bit(1) NOT NULL,
  `FLG_REQUEREXAME` bit(1) NOT NULL,
  `MEDIADIASCURA` int(11) NOT NULL,
  `FLG_GRAVE` bit(1) NOT NULL,
  PRIMARY KEY (`ID_DOENCA`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `endereco` (
  `ID_ENDERECO` int(11) NOT NULL AUTO_INCREMENT,
  `ENDERECO` varchar(100) NOT NULL,
  `BAIRRO` varchar(100) NOT NULL,
  `NUMERO` int(11) NOT NULL,
  `CEP` varchar(20) NOT NULL,
  `COMPLEMENTO` varchar(100) DEFAULT NULL,
  `CIDADE` varchar(100) NOT NULL,
  `UF` varchar(2) NOT NULL,
  PRIMARY KEY (`ID_ENDERECO`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `paciente` (
  `ID_PACIENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME_PACIENTE` varchar(500) NOT NULL,
  `DT_NASCIMENTO` datetime NOT NULL,
  `CPF` varchar(500) NOT NULL,
  `RG` varchar(500) NOT NULL,
  `SEXO` varchar(2) NOT NULL,
  PRIMARY KEY (`ID_PACIENTE`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `usuario` (
  `ID_USUARIO` int(11) NOT NULL AUTO_INCREMENT,
  `LOGIN` varchar(50) NOT NULL,
  `SENHA` varchar(50) NOT NULL,
  `FLG_ATIVO` bit(1) NOT NULL,
  PRIMARY KEY (`ID_USUARIO`)
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `tipotratamento` (
  `ID_TIPOTRATAMENTO` int(11) NOT NULL,
  `DS_TIPOTRATAMENTO` varchar(100) NOT NULL,
  PRIMARY KEY (`ID_TIPOTRATAMENTO`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `tratamento` (
  `ID_TRATAMENTO` int(11) NOT NULL AUTO_INCREMENT,
  `DS_TRATAMENTO` varchar(500) NOT NULL,
  `ID_TIPOTRATAMENTO` int(11) NOT NULL,
  PRIMARY KEY (`ID_TRATAMENTO`),
  KEY `ID_TIPOTRATAMENTO` (`ID_TIPOTRATAMENTO`),
  CONSTRAINT `tratamento_ibfk_1` FOREIGN KEY (`ID_TIPOTRATAMENTO`) REFERENCES `tipotratamento` (`ID_TIPOTRATAMENTO`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `doenca_tratamento` (
  `ID_DOENCA` int(11) NOT NULL,
  `ID_TRATAMENTO` int(11) NOT NULL,
  KEY `ID_DOENCA` (`ID_DOENCA`),
  KEY `ID_TRATAMENTO` (`ID_TRATAMENTO`),
  CONSTRAINT `doenca_tratamento_ibfk_1` FOREIGN KEY (`ID_DOENCA`) REFERENCES `doenca` (`ID_DOENCA`),
  CONSTRAINT `doenca_tratamento_ibfk_2` FOREIGN KEY (`ID_TRATAMENTO`) REFERENCES `tratamento` (`ID_TRATAMENTO`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

CREATE TABLE `paciente_doenca` (
  `ID_PACIENTEDOENCA` int(11) NOT NULL AUTO_INCREMENT,
  `ID_DOENCA` int(11) NOT NULL,
  `ID_PACIENTE` int(11) NOT NULL,
  `ID_ENDERECO` int(11) DEFAULT NULL,
  `DT_INICIO` datetime NOT NULL,
  `DT_TERMINO` datetime DEFAULT NULL,
  `FLG_MEDICADO` bit(1) NOT NULL,
  `FLG_FALECIDO` bit(1) DEFAULT NULL,
  `DT_OBITO` datetime DEFAULT NULL,
  PRIMARY KEY (`ID_PACIENTEDOENCA`),
  KEY `FK_PACIENTE_DOENCA_doenca` (`ID_DOENCA`),
  KEY `FK_paciente_doenca_endereco` (`ID_ENDERECO`),
  KEY `FK_paciente_doenca_paciente` (`ID_PACIENTE`),
  CONSTRAINT `FK_PACIENTE_DOENCA_doenca` FOREIGN KEY (`ID_DOENCA`) REFERENCES `doenca` (`ID_DOENCA`),
  CONSTRAINT `FK_paciente_doenca_endereco` FOREIGN KEY (`ID_ENDERECO`) REFERENCES `endereco` (`ID_ENDERECO`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `FK_paciente_doenca_paciente` FOREIGN KEY (`ID_PACIENTE`) REFERENCES `paciente` (`ID_PACIENTE`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci
GO

INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (1,'Administrador','Aa1234',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (2,'Jose','3542',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (3,'Ana','3214',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (4,'Marcela','5478',0);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (5,'Gabriel','1235',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (6,'Osmar','4532',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (7,'Miriam','3216',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (8,'Jucilene','5612',0);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (9,'Juliana','7412',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (10,'Pedro','8520',1);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (11,'Kassio','6321',0);
GO
INSERT INTO usuario (ID_USUARIO,LOGIN,SENHA,FLG_ATIVO) VALUES (12,'Lucia','1233',1);
GO



INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (1,'José Ferreira Da Silva','1990/02/18','466852557-66','39.358.841-7','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (2,'Ana Júlia Tralini','1985/08/19','488654684-44','39.688.456-8','F');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (3,'Marcelo Vitini Maya','2000/05/30','389948568-11','40.785.564-5','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (4,'Gabriel Matos Henri','1989/02/21','461848599-69','39.345.850-5','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (5,'Osmar Queiroz Santos','1980/01/24','399804841-70','38.126.885-6','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (6,'Miriam Souza Pato','1991/09/06','458841566-18','39.333.456-9','F');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (7,'Jacilene Moura Fernanda','1998/07/18','456512239-13','39.889.840-8','F');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (8,'Juliana Taymura Luíza','1985/06/02','398415545-34','38.198.899-2','F');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (9,'Pedro Vincente Maori','1990/02/26','466382657-65','39.476.765-3','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (10,'Kassio Menezes','1991/01/01','455845468-70','39.986.367-5','M');
GO
INSERT INTO paciente (ID_PACIENTE,NOME_PACIENTE,DT_NASCIMENTO,CPF,RG,SEXO) VALUES (11,'Lúcia Souza Marques','1993/12/12','444848084-33','40.658.451-7','F');
GO


INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (1,'Rua Corgie Assad Abdalla','Vila Sonia',1010,'05622-010','Apto 30 Bloco 2','São Paulo','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (2,'Rua Haddock Lobo','Consolação',498,'01414-903','Apto 40 Bloco 1','São Paulo','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (3,'Rua Domiciano Rossi','Jardim Do Mar',179,'09726-120','Casa','São Bernardo Do Campo','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (4,'Rua Das Flores','Jardim Do Mar',85,'09726-310','Apto 45 Bloco 3','São Bernardo Do Campo','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (5,'Rua Muritinga','Vila Floresta',37,'09050-040','Casa','Santo Andre','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (6,'Rua Ana Jarvis','Jardim Paraíso',480,'09190-110','Casa','Santo Andre','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (7,'Rua Papoula ','Quitaúna',588,'06110-210','Casa','Osasco','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (8,'Rua Nilsa Barbosa Barreto','Pestana',14,'06180-200','Casa','Osasco','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (9,'Rua Bruno Spinosa','Vila Nogueira',78,'09951-010','Apto 70 Bloco 6','Diadema','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (10,'Rua Jácomo Spagiari','Centro',141,'09910-225','Apto 14 Bloco 1','Diadema','SP');
GO
INSERT INTO endereco (ID_ENDERECO,ENDERECO,BAIRRO,NUMERO,CEP,COMPLEMENTO,CIDADE,UF) VALUES (11,'Rua Consolação','Jardim Paulista',2825,'01301-100','Apto 87 Bloco 4','São Paulo','SP');
GO


INSERT INTO tipotratamento (ID_TIPOTRATAMENTO,DS_TIPOTRATAMENTO) VALUES (1,'Medicamento');
GO


INSERT INTO tratamento (ID_TRATAMENTO,DS_TRATAMENTO,ID_TIPOTRATAMENTO) VALUES (1,'Medicamentos antirretrovirais agem inibindo a multiplicação do HIV no organismo, evitam o enfraquecimento do sistema imunológico, transforma o que era uma infecção quase sempre fatal em uma condição crônica controlável',1);
GO


INSERT INTO doenca (ID_DOENCA,NOME_DOENCA,DESCRICAO,SINTOMAS,FLG_COMUM,FLG_TRATACOMVACINA,FLG_TRATADOPORPESSOA,FLG_PROPAGAFACIL,FLG_REQUEREXAME,MEDIADIASCURA,FLG_GRAVE) VALUES (1,'AIDS
','Aids é uma doença crônica (síndrome da imunodeficiência) causada pelo vírus HIV, que danifica o sistema imunológico e interfere na habilidade do organismo lutar contra outras infecções (tuberculose, pneumocistose, neurotoxoplasmose, entre outras).
','Fraqueza,Febre, Emagrecimento, Diarreia prolongada sem causa aparente (Em crianças que nascem infectadas, agem de tal forma.), Problemas nos pulmões, Diarreia, Dificuldades no desenvolvimento.
',1,0,1,1,1,0,1);
GO


INSERT INTO doenca_tratamento (ID_DOENCA,ID_TRATAMENTO) VALUES (1,1);
GO


INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (1,1,1,1,'2010/04/05',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (2,1,2,2,'2005/05/23','2011/10/05',0,1,'2011/10/05');
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (3,1,3,3,'2018/07/25',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (4,1,4,4,'2006/07/14',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (5,1,5,5,'2000/03/25','2014/04/27',0,1,'2014/04/27');
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (6,1,6,6,'2011/08/14',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (7,1,7,7,'2017/04/11',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (8,1,8,8,'2001/02/07','2018/05/04',0,1,'2018/05/04');
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (9,1,9,9,'2010/08/09',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (10,1,10,10,'2014/05/07',NULL,1,0,NULL);
GO
INSERT INTO paciente_doenca (ID_PACIENTEDOENCA,ID_DOENCA,ID_PACIENTE,ID_ENDERECO,DT_INICIO,DT_TERMINO,FLG_MEDICADO,FLG_FALECIDO,DT_OBITO) VALUES (11,1,11,11,'2017/08/28',NULL,1,0,NULL);
GO
